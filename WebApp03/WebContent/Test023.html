<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Test023.html</title>

<style type="text/css">
	* {color: #223322;}
	input {font-fmaily: 나눔고딕코딩; font-weight: bold;}
	input:focus {background: #eeeedd;}
	input.btn {width: 90px; font-weight: bold; font-family: 맑은 고딕;} 
	input.btn:hover {color: purple;}
	td {text-align: center;}
	.txt {text-align: right;}
	textarea {font-family: 나눔고딕코딩; font-weight: bold;}
</style>


<script type="text/javascript">
/*
	function addMember()
	{
		// 테스트
		//alert("버튼 클릭 완료★");
		
		// 등수변수 1로 초기화해서... 작은쪽을 늘려감...
		
		var str = "";
		var arr = new Array;
		var n = 0;
		
		do
		{
			str = prompt("이름 국어 영어 수학(" + (n+1) +") : ");
			
			if (str == "." || str == "" || str == " " || str == null)
				break;
				
			arr[n] = str;
			n++;
					
		} while (true);
		
		
	}
*/
	function actionScore()
	{
		// 확인
		//alert("함수 호출 확인");
		
		var str = "";
		
		var arr = new Array();
		//@ 배열 길이 명시 없이, 배열 만듬. 그럼 이 안은 제한X
		//@ 보통 ()안에 숫자 명시하는거 추천하지 않음....
		
		//var arr = new Array(new Array(),                      new Array(),                   new Array(), new Array(), new Array(), new Array());
		//                  -----------                       ------------
 		//                  이름,국어,영어,수학,총점,등수     이름,국어,영어,수학,총점,등수
		//@ --> 이러면 6명 이상 쓰기 불가능!(학생수 늘리기 불가능)
		
		var arr = new Array(new Array(), new Array(), new Array(), new Array(), new Array(), new Array());
  		//                  이름들       국어점수들   영어점수들   수학점수들    총점들        등수들
		//@ --> 이러면 학생수 늘릴수 있음! (과목 늘리기 불가능)
		
		var n = 0;
		
		do
		{
			str = prompt("이름 국어 영어 수학(" + (n+1) + ") : ");
			
			//if (str==null || str=="" || str==" " || str=/=/".")
			if (str==null || str==" " || str=="" || str=="." )
				break;
			
			var member = str.split(" ");	// var member = ["정미화", "90", "80", "70"]; 
			
			//arr[0][0] = member[0];
			//arr[1][0] = member[1];			//@ arr[0][1]이 아니라, arr[1][0]에 담는 것! --★ 중요!!!
			//arr[2][0] = member[2];
			//arr[3][0] = member[3];
			//arr[4][0] = Number(member[1]) + Number(member[2]) + Number(member[3]);
			//arr[5][0] = 1;
			
			arr[0][n] = member[0];
			arr[1][n] = member[1];			//@ arr[0][1]이 아니라, arr[1][0]에 담는 것! --★ 중요!!!
			arr[2][n] = member[2];
			arr[3][n] = member[3];
			arr[4][n] = Number(member[1]) + Number(member[2]) + Number(member[3]);
			arr[5][n] = 1;
			
			// 확인 -> 안댐^^... 확인해 보기 -> 오타였음! 확인 완료
			//alert(arr[4][n]);
			//alert(arr[5][n]);
			
			n++;
			
		} while (true);
		
		// 석차(등수) 계산
		//@ arr.length하면 안 됨! [0]은 몇번째 방이든 상관 X
		for (var i=0; i<arr[0].length; i++)
		{
			for (var j=0; j<arr[0].length; j++)
			{
				if (i==j)
				{
					continue;
					//@ 뒷부분(아래 if부분) 무시하고 계속해라!
				}	
				
				if (Number(arr[4][i]) < Number(arr[4][j]))	// 총점 비교		//
				{																//
					// i번째 학생의 등수(arr[5][i])를 1만큼 증가				// continue 기준 뒷부분
					arr[5][i] = (Number(arr[5][i]) + 1).toString();				//
					//@ .toString-> 문자로 만듬									//
				}																//
				
			}
		}
		
		//------- 여기까지 수행하면 arr 배열 구성 끝~!!!
		
		
		var result = "";
		
		for (var j=0; j<arr[0].length; j++)
		{
			for (var k=0; k<arr.length; k++)
			{
				//alert(k + " " + j);
				result += arr[k][j] + "  ";
			}
			result += "\n";
			//@ for문 안에서의 개행은 "\n"!
		}
		
		//@ arr.lengh : 이름~등수 갯수
		document.getElementById("txtCount").value = arr[0].length;
		
		document.getElementById("memberList").value = "이름  국어 영어 수학 총점 등수\n";
		document.getElementById("memberList").value += result;
		
		
	}
	
</script>

</head>
<body>

<!-- 
	『prompt()』를 활용하여 여러 명의 성적 데이터를 입력받고,
	등수를 부여하여, 리스트를 출력하는 페이지를 구성한다.
	HTML, CSS, Javascript 활용.
	
	페이지 레이아웃
	------------------------------------------------------- prompt()
	< 성적 정보 입력 > →→→→→→→→→→→→→→→→→→→→→→→ 이름 국어 영어 수학(1) :
	
	전체 인원 수 :     [      ] 명
	-------------------------------------
	이름    국어  영어  수학  총점  등수
	이중호   90    80    70    xxx   1등 
	채지윤   80    70    60    xxx   2등 
	이중호   70    60    50    xxx   3등 
	-------------------------------------
	-------------------------------------------------------
	
 -->


<div>
	<h1>자바스크립트 활용</h1>
	<hr>
</div>

<!-- 내가 작성한 코드 -->
<!-- 
<div>
	<form>
		<input type="button" value="성적 정보 입력" class="btn" style="width: 230px;" onclick="addMember()"><br><br>
		전체 인원 수 : <input type="text" id="txtCount" class="txt" readonly="readonly" style="width: 30px;">
		명
		<br><br>
		<textarea rows="10" cols="30" id="txtResult" class="txt" readonly="readonly"></textarea>
		
 	</form> 
</div>
-->

<div>
	<form>
		<input type="button" class="btn" value="성적 정보 입력" style="width:350px;" onclick="actionScore()">
		<br><br>
		전체 회원 수 : 
		<input type="text" class="txt" id="txtCount"  style="width: 20px;" readonly="readonly"> 명
		<br><br>
		<textarea rows="10" cols="50" id="memberList" readonly="readonly"></textarea>
	</form>
</div>

</body>
</html>
















